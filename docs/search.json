[{"path":[]},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement cole@colebrokamp.com. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired [Mozilla’s code conduct enforcement ladder][https://github.com/mozilla/inclusion]. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"http://geomarker.io/appc/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 appc authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://geomarker.io/appc/articles/cv-model-performance.html","id":"training-data","dir":"Articles","previous_headings":"","what":"Training Data","title":"CV Model Performance","text":"Training data consisted 575,301 daily average PM\\(_{2.5}\\) concentrations 778 EPA AQS monitors 3,226 days 2017-01-01 2025-10-31. Overall, median measured PM\\(_{2.5}\\) 7 \\(\\mu g/ m^3\\) 99.5% measurements 1.8 21.8 \\(\\mu g/ m^3\\):","code":""},{"path":"http://geomarker.io/appc/articles/cv-model-performance.html","id":"model-training","dir":"Articles","previous_headings":"","what":"Model Training","title":"CV Model Performance","text":"EPA AQS monitor concentrations used train generalized regression forest 200 trees, subsample fraction 0.5, minimum node size 5, \\(m_{try}\\) value 20. Model predictors listed table ordered according importance. , variable importance calculated exponentially-weighted sum many times feature selected within first 6 splits tree forest.","code":""},{"path":"http://geomarker.io/appc/articles/cv-model-performance.html","id":"leave-one-location-out-lolo-cross-validated-model-performance","dir":"Articles","previous_headings":"","what":"Leave One Location Out (LOLO) Cross Validated Model Performance","title":"CV Model Performance","text":"Leave-one-location-(LOLO) accuracy calculated using bag predictions trained random forest resample clustering location. Accuracy characterized using median absolute error (mae) Spearman’s correlation coefficient (rho). Accuracy metrics calculated left location summarized using median accuracy statistic across locations. closely captures performance real-world scenario trying predict air pollution 2017 2025 place measured. AQS monitor different number measurements depending measurement frequency deployed. calculate LOLO model performance, exclude station station-time grouping 4 less observations. tables , median_n represents median number observations used station grouping calculate overall median accuracy metrics. ci_coverage percentage time 95% CI interval predicted concentration contained measured concentration.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"http://geomarker.io/appc/articles/cv-model-performance.html","id":"monthly","dir":"Articles","previous_headings":"Leave One Location Out (LOLO) Cross Validated Model Performance","what":"Monthly","title":"CV Model Performance","text":"Exclude stations 4 less total monthly observations.","code":""},{"path":"http://geomarker.io/appc/articles/cv-model-performance.html","id":"annual","dir":"Articles","previous_headings":"Leave One Location Out (LOLO) Cross Validated Model Performance","what":"Annual","title":"CV Model Performance","text":"Exclude stations 4 less total annual observations.","code":""},{"path":"http://geomarker.io/appc/articles/cv-model-performance.html","id":"median-lolo-accuracy-per-spatial-aggregation-period","dir":"Articles","previous_headings":"Leave One Location Out (LOLO) Cross Validated Model Performance","what":"Median LOLO Accuracy Per Spatial Aggregation Period","title":"CV Model Performance","text":"Station-specific estimates crossvalidated MAE Rho spatially aggregated level 5 s2 cells summarized. visualized result rough approximation model performance may differ different parts country:","code":""},{"path":"http://geomarker.io/appc/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Cole Brokamp. Author, maintainer. Erika Manning. Author. Qing Duan. Author.","code":""},{"path":"http://geomarker.io/appc/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Brokamp C, Manning E, Duan Q (2026). appc: Air Pollution Predictor Commons. R package version 1.0.0.9001, http://geomarker.io/appc/, https://github.com/geomarker-io/appc.","code":"@Manual{,   title = {appc: Air Pollution Predictor Commons},   author = {Cole Brokamp and Erika Manning and Qing Duan},   year = {2026},   note = {R package version 1.0.0.9001, http://geomarker.io/appc/},   url = {https://github.com/geomarker-io/appc}, }"},{"path":[]},{"path":"http://geomarker.io/appc/index.html","id":"about","dir":"","previous_headings":"","what":"About","title":"Air Pollution Predictor Commons","text":"goal appc package provide daily, high resolution, near real-time, model-based ambient air pollution exposure assessments. achieved training generalized random forest several geomarkers predict daily average EPA AQS concentrations 2017 near-present (currently October 2025) exact locations across contiguous United States (see vignette(\"cv-model-performance\") details). appc package contains functions generating geomarker predictors ambient air pollution concentrations. Predictor geomarkers include weather atmospheric information, wildfire smoke plumes, elevation, satellite-based aerosol diagnostics products. Source files included package train evaluate models can updated release use recent AQS measurements /geomarker predictors.","code":""},{"path":"http://geomarker.io/appc/index.html","id":"installing","dir":"","previous_headings":"","what":"Installing","title":"Air Pollution Predictor Commons","text":"Install latest stable release appc R-universe : Install latest, -development version appc GitHub :","code":"install.packages(\"appc\", repos = c(\"https://geomarker-io.r-universe.dev\", \"https://cloud.r-project.org\")) # install.packages(\"remotes\") remotes::install_github(\"geomarker-io/appc\")"},{"path":"http://geomarker.io/appc/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Air Pollution Predictor Commons","text":"R, create model-based predictions ambient air pollution concentrations exact locations specific dates using predict_pm25() function: See examples vignette(\"timeline-example\").","code":"appc::predict_pm25(   x = s2::as_s2_cell(c(\"8841b39a7c46e25f\", \"8841a45555555555\")),   dates = list(as.Date(c(\"2025-05-18\", \"2025-06-10\")), as.Date(c(\"2025-06-22\", \"2025-09-20\"))) ) #> ℹ (down)loading random forest model #> loaded rf_pm_v1 in 14s #> ✔ (down)loading random forest model [14.4s] #>  #> ℹ checking that s2 are within the contiguous US #> ✔ checking that s2 are within the contiguous US [62ms] #>  #> ℹ adding coordinates #> ✔ adding coordinates [8.8s] #>  #> ℹ adding elevation #> ✔ adding elevation [1.5s] #>  #> ℹ adding HMS smoke data #> ✔ adding HMS smoke data [1s] #>  #> ℹ adding NARR #> ✔ adding NARR [392ms] #>  #> ℹ adding gridMET #> ✔ adding gridMET [425ms] #>  #> ℹ adding MERRA #> ✔ adding MERRA [641ms] #>  #> ℹ adding time components #> ✔ adding time components [35ms] #>  #> [[1]] #> # A tibble: 2 × 2 #>    pm25 pm25_se #>   <dbl>   <dbl> #> 1  7.66   0.624 #> 2 12.3    1.89  #>  #> [[2]] #> # A tibble: 2 × 2 #>    pm25 pm25_se #>   <dbl>   <dbl> #> 1  12.5    2.09 #> 2  12.0    1.30"},{"path":"http://geomarker.io/appc/index.html","id":"s2-geometry","dir":"","previous_headings":"","what":"S2 Geometry","title":"Air Pollution Predictor Commons","text":"S2Geometry library hierarchical geospatial index uses spherical geometry. Users familiar latitude longitude probably accustomed thinking Earth grid (lat, lon) points spatial calculations projecting points planar coordinates. S2Geometry library faster portable, usually just accurate. S2 models earth sphere represents locations hierarchical cells sphere. high level, earth projected onto faces cube faces recursively subdivided smaller square cells, unique ID (often represented 64-bit integer hex string). Higher “levels” mean smaller cells (finer spatial resolution) “geohash” usually refers s2 cell identifier context. s2 geohash cell encodes location resolution. appc package uses s2 cells via s2 package specify geospatial locations. R, s2 cells can created using character string representation, specifying latitude longitude coordinates; e.g.: default, s2 cells created “leaf-level cells”, highest level resolution (30); cells areas 0.74 cm squared, best thought point high resolution. Find s2 cell statistics S2Geometry documentation. Another useful resource S2 Region Coverer Online Viewer.","code":"s2::s2_lnglat(c(-84.4126, -84.5036), c(39.1582, 39.2875)) |> s2::as_s2_cell() #> <s2_cell[2]> #> [1] 8841ad122d9774a7 88404ebdac3ea7d1"},{"path":"http://geomarker.io/appc/index.html","id":"geomarker-assessment","dir":"","previous_headings":"","what":"Geomarker Assessment","title":"Air Pollution Predictor Commons","text":"Spatiotemporal geomarkers used predicting air pollution concentrations, also serve exposures confounding exposures . View information options geomarker:","code":""},{"path":"http://geomarker.io/appc/index.html","id":"installing-geomarker-data-sources","dir":"","previous_headings":"","what":"Installing Geomarker Data Sources","title":"Air Pollution Predictor Commons","text":"Installed geomarker data sources grf model hosted release assets GitHub downloaded locally package-specific R user data directory (.e., tools::R_user_dir(\"appc\", \"data\")). files cached across R user’s sessions projects. (Specify alternative download location setting R_USER_DATA_DIR environment variable; see ?tools::R_user_dir.) Note although geomarker data usually installed per year, data current year always contain missing values recent future values. “refresh” geomarker current year, delete installed file reinstall data; example:","code":"file.remove(install_daymet_data(\"tmmx\", \"2025\")) install_daymet_data(\"tmmx\", \"2025\")"},{"path":"http://geomarker.io/appc/index.html","id":"developing","dir":"","previous_headings":"","what":"Developing","title":"Air Pollution Predictor Commons","text":"Please note appc project released Contributor Code Conduct. contributing project, agree abide terms. create release AQS training data, train, evaluate generalized random forest model, install use just execute recipes justfile. update MERRA-2 releases: Delete exisiting MERRA-2 data re-install using code based inst/install_merra_from_source_on_cchmc_hpc.sh Create “pre-release” (.e., latest) tagged titled merra-{release_date} (e.g., merra-2025-01-02) Update default release tag used get_merra_data() (install_merra_data())","code":""},{"path":"http://geomarker.io/appc/reference/appc_clean_data_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"delete all installed data files in the user's data directory for the appc package — appc_clean_data_directory","title":"delete all installed data files in the user's data directory for the appc package — appc_clean_data_directory","text":"delete installed data files user's data directory appc package","code":""},{"path":"http://geomarker.io/appc/reference/appc_clean_data_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"delete all installed data files in the user's data directory for the appc package — appc_clean_data_directory","text":"","code":"appc_clean_data_directory()"},{"path":"http://geomarker.io/appc/reference/assemble_predictors.html","id":null,"dir":"Reference","previous_headings":"","what":"Assemble a tibble of required predictors for the exposure assessment model — assemble_predictors","title":"Assemble a tibble of required predictors for the exposure assessment model — assemble_predictors","text":"Assemble tibble required predictors exposure assessment model","code":""},{"path":"http://geomarker.io/appc/reference/assemble_predictors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assemble a tibble of required predictors for the exposure assessment model — assemble_predictors","text":"","code":"assemble_predictors(x, dates, pollutant = c(\"pm25\"))"},{"path":"http://geomarker.io/appc/reference/assemble_predictors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assemble a tibble of required predictors for the exposure assessment model — assemble_predictors","text":"x vector s2 cell identifers (s2_cell object); currently required within contiguous united states dates list date vectors predictions, must length x pollutant ignored now, reserved future sets predictors specific different pollutants","code":""},{"path":"http://geomarker.io/appc/reference/assemble_predictors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assemble a tibble of required predictors for the exposure assessment model — assemble_predictors","text":"tibble one row unique s2 location - date combination columns predictors required exposure assessment model","code":""},{"path":"http://geomarker.io/appc/reference/assemble_predictors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Assemble a tibble of required predictors for the exposure assessment model — assemble_predictors","text":"","code":"d <- list(   \"8841b39a7c46e25f\" = as.Date(c(\"2023-05-18\", \"2023-11-06\")),   \"8841a45555555555\" = as.Date(c(\"2023-06-22\", \"2023-08-15\", \"2023-09-30\")) ) assemble_predictors(x = s2::as_s2_cell(names(d)), dates = d) |>   tibble::glimpse() #> ℹ checking that s2 are within the contiguous US #> ✔ checking that s2 are within the contiguous US [60ms] #>  #> ℹ adding coordinates #> ✔ adding coordinates [367ms] #>  #> ℹ adding elevation #> ✔ adding elevation [1.4s] #>  #> ℹ adding HMS smoke data #> ✔ adding HMS smoke data [1.7s] #>  #> ℹ adding NARR #> ✔ adding NARR [562ms] #>  #> ℹ adding gridMET #> ✔ adding gridMET [483ms] #>  #> ℹ adding MERRA #> ✔ adding MERRA [1.2s] #>  #> ℹ adding time components #> ✔ adding time components [24ms] #>  #> Rows: 5 #> Columns: 23 #> $ s2                <s2cell> 8841b39a7c46e25f, 8841b39a7c46e25f, 8841a45555555… #> $ date              <date> 2023-05-18, 2023-11-06, 2023-06-22, 2023-08-15, 202… #> $ x                 <dbl> 981664.4, 981664.4, 993445.3, 993445.3, 993445.3 #> $ y                 <dbl> 1850030, 1850030, 1833221, 1833221, 1833221 #> $ elevation_median  <dbl> 239, 239, 229, 229, 229 #> $ elevation_sd      <dbl> 18.88562, 18.88562, 14.62223, 14.62223, 14.62223 #> $ plume_smoke       <dbl> 9, 2, 1, 2, 2 #> $ hpbl              <dbl> 654.3253, 536.9161, 775.3117, 1110.5875, 755.1304 #> $ temperature_max   <dbl> 296.8, 295.2, 293.6, 296.3, 299.9 #> $ temperature_min   <dbl> 281.7, 276.2, 289.5, 289.2, 285.1 #> $ precipitation     <dbl> 0.0, 0.0, 0.0, 0.6, 0.0 #> $ solar_radiation   <dbl> 320.6, 110.2, 120.8, 234.9, 153.6 #> $ wind_speed        <dbl> 3.1, 5.2, 3.7, 5.0, 3.0 #> $ wind_direction    <int> 94, 209, 63, 284, 52 #> $ specific_humidity <dbl> 0.00732, 0.00558, 0.01032, 0.01208, 0.01015 #> $ merra_dust        <dbl> 1.7716578, 0.8419505, 1.3394157, 1.1787193, 0.4911129 #> $ merra_oc          <dbl> 6.839098, 2.653597, 2.519055, 2.797475, 2.400764 #> $ merra_bc          <dbl> 0.5318720, 0.3922745, 0.3267147, 0.4414604, 0.4116064 #> $ merra_ss          <dbl> 0.9944661, 0.2441934, 0.3561678, 0.7222975, 0.1348545 #> $ merra_so4         <dbl> 2.430319, 2.208039, 3.706336, 5.782006, 3.397560 #> $ merra_pm25        <dbl> 13.480237, 7.169391, 9.639784, 13.093671, 8.112017 #> $ year              <dbl> 2023, 2023, 2023, 2023, 2023 #> $ doy               <dbl> 138, 310, 173, 227, 273"},{"path":"http://geomarker.io/appc/reference/get_closest_year.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the closest years to a vector of dates — get_closest_year","title":"Get the closest years to a vector of dates — get_closest_year","text":"time date year calculated using July 1st year.","code":""},{"path":"http://geomarker.io/appc/reference/get_closest_year.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the closest years to a vector of dates — get_closest_year","text":"","code":"get_closest_year(x, years = as.character(1800:2400))"},{"path":"http://geomarker.io/appc/reference/get_closest_year.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the closest years to a vector of dates — get_closest_year","text":"x date vector years vector characters (numerics) representing years choose ","code":""},{"path":"http://geomarker.io/appc/reference/get_closest_year.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the closest years to a vector of dates — get_closest_year","text":"character vector closest year years date x","code":""},{"path":"http://geomarker.io/appc/reference/get_closest_year.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the closest years to a vector of dates — get_closest_year","text":"","code":"get_closest_year(x = as.Date(c(\"2021-05-15\", \"2022-09-01\")), years = c(\"2020\", \"2022\")) #> [1] \"2020\" \"2022\""},{"path":"http://geomarker.io/appc/reference/get_daily_aqs.html","id":null,"dir":"Reference","previous_headings":"","what":"Get daily AQS concentrations — get_daily_aqs","title":"Get daily AQS concentrations — get_daily_aqs","text":"Pre-generated daily summary files downloaded EPA AQS website filtered/harmonized described Details.","code":""},{"path":"http://geomarker.io/appc/reference/get_daily_aqs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get daily AQS concentrations — get_daily_aqs","text":"","code":"get_daily_aqs(   pollutant = c(\"pm25\", \"ozone\", \"no2\"),   year = as.character(2017:2025) )"},{"path":"http://geomarker.io/appc/reference/get_daily_aqs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get daily AQS concentrations — get_daily_aqs","text":"pollutant one \"pm25\", \"ozone\", \"no2\" year calendar year","code":""},{"path":"http://geomarker.io/appc/reference/get_daily_aqs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get daily AQS concentrations — get_daily_aqs","text":"data.frame/tibble pollutant concentrations site id, lat/lon, date","code":""},{"path":"http://geomarker.io/appc/reference/get_daily_aqs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get daily AQS concentrations — get_daily_aqs","text":"PM2.5 (FRM, non-FRM, speciation), data filtered observations sample duration \"24 HOURS\". pollutants measurements removed observation percent sampling period less 75. pollutant measured one device day s2 location, average measurement returned, ensuring unique measurements pollutant-location-day Note: Historical measurements subject change EPA AQS website stores latest versions.  Since function always downloads latest data EPA AQS, means different results depending date run. Similarly, recent year might contain measurements entire calendar year. Get files page date last updated: readr::read_csv(\"https://aqs.epa.gov/aqsweb/airdata/file_list.csv\")","code":""},{"path":"http://geomarker.io/appc/reference/get_daily_aqs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get daily AQS concentrations — get_daily_aqs","text":"","code":"if (FALSE) { get_daily_aqs(\"pm25\", \"2024\") }"},{"path":"http://geomarker.io/appc/reference/get_elevation_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Get elevation summary data — get_elevation_summary","title":"Get elevation summary data — get_elevation_summary","text":"fun (e.g. median() sd()) elevations (captured spatial resolution 800 800 m) within buffer distance s2 geohash.","code":""},{"path":"http://geomarker.io/appc/reference/get_elevation_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get elevation summary data — get_elevation_summary","text":"","code":"get_elevation_summary(x, fun = stats::median, buffer = 800)  install_elevation_data()"},{"path":"http://geomarker.io/appc/reference/get_elevation_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get elevation summary data — get_elevation_summary","text":"x vector s2 cell identifers (s2_cell object) fun function summarize extracted data buffer distance s2 cell (meters) summarize data","code":""},{"path":"http://geomarker.io/appc/reference/get_elevation_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get elevation summary data — get_elevation_summary","text":"get_elevation_summary(), numeric vector elevation summaries, length x install_elevation_data(), character string path elevation raster","code":""},{"path":"http://geomarker.io/appc/reference/get_elevation_summary.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get elevation summary data — get_elevation_summary","text":"https://prism.oregonstate.edu/normals/","code":""},{"path":"http://geomarker.io/appc/reference/get_elevation_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get elevation summary data — get_elevation_summary","text":"","code":"get_elevation_summary(s2::as_s2_cell(c(\"8841b399ced97c47\", \"8841b38578834123\"))) #> [1] 231.0 222.5"},{"path":"http://geomarker.io/appc/reference/get_gridmet_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get gridMET surface meteorological data — get_gridmet_data","title":"Get gridMET surface meteorological data — get_gridmet_data","text":"Daily, high spatial resolution (~4-km) data comes Climatology Lab available contiguous US 1979-yesterday.","code":""},{"path":"http://geomarker.io/appc/reference/get_gridmet_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get gridMET surface meteorological data — get_gridmet_data","text":"","code":"get_gridmet_data(   x,   dates,   gridmet_var = c(\"tmmx\", \"tmmn\", \"pr\", \"srad\", \"vs\", \"th\", \"rmax\", \"rmin\", \"sph\") )  install_gridmet_data(   gridmet_var = c(\"tmmx\", \"tmmn\", \"pr\", \"srad\", \"vs\", \"th\", \"rmax\", \"rmin\", \"sph\"),   gridmet_year = as.character(1979:format(Sys.Date(), \"%Y\")),   force_reinstall = FALSE )"},{"path":"http://geomarker.io/appc/reference/get_gridmet_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get gridMET surface meteorological data — get_gridmet_data","text":"x vector s2 cell identifers (s2_cell object) dates list date vectors NARR data, must length x gridmet_var character string name gridMET variable gridmet_year character string year gridMET data; see details force_reinstall logical; download data original source instead reusing older downloads","code":""},{"path":"http://geomarker.io/appc/reference/get_gridmet_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get gridMET surface meteorological data — get_gridmet_data","text":"get_gridmet_data(), list numeric vectors gridMET values (length x dates) install_gridmet_data(), character string path gridMET raster data","code":""},{"path":"http://geomarker.io/appc/reference/get_gridmet_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get gridMET surface meteorological data — get_gridmet_data","text":"GRIDMET data comes 1/24th degree gridded data, 4 sq km resolution. s2 geohashes intersected grid matching daily weather values. gridMET variables named:","code":"gridmet_variable <- c(   temperature_max = \"tmmx\",   temperature_min = \"tmmn\",   precipitation = \"pr\",   solar_radiation = \"srad\",   wind_speed = \"vs\",   wind_direction = \"th\",   relative_humidity_max = \"rmax\",   relative_humidity_min = \"rmin\"   specific_humidity = \"sph\" )"},{"path":"http://geomarker.io/appc/reference/get_gridmet_data.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get gridMET surface meteorological data — get_gridmet_data","text":"https://www.climatologylab.org/gridmet.html https://www.northwestknowledge.net/metdata/data/","code":""},{"path":"http://geomarker.io/appc/reference/get_gridmet_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get gridMET surface meteorological data — get_gridmet_data","text":"","code":"d <- list(   \"8841b39a7c46e25f\" = as.Date(c(\"2023-05-18\", \"2023-11-06\")),   \"8841a45555555555\" = as.Date(c(\"2023-06-22\", \"2023-08-15\")) ) get_gridmet_data(x = s2::as_s2_cell(names(d)), dates = d, gridmet_var = \"tmmx\") #> $`8841b39a7c46e25f` #> [1] 296.8 295.2 #>  #> $`8841a45555555555` #> [1] 293.6 296.3 #>  get_gridmet_data(x = s2::as_s2_cell(names(d)), dates = d, gridmet_var = \"pr\") #> $`8841b39a7c46e25f` #> [1] 0 0 #>  #> $`8841a45555555555` #> [1] 0.0 0.6 #>"},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"HMS operates daily near real-time outlining smoke polygon distinct smoke plume classifying \"light\", \"medium\", \"heavy\". Since multiple plumes varying classification can cover one another, total smoke plume exposure estimated weighted sum plumes, \"light\" = 1, \"medium\" = 2, \"heavy\" = 3.","code":""},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"","code":"get_hms_smoke_data(x, dates)  install_hms_smoke_data(   hms_smoke_start_date = as.Date(\"2017-01-01\"),   hms_smoke_end_date = as.Date(\"2025-10-31\"),   force_reinstall = FALSE )"},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"x vector s2 cell identifers (s2_cell object); currently required within contiguous united states dates list date vectors predictions, must length x hms_smoke_start_date date object first day hms smoke data installed hms_smoke_end_date date object last day hms smoke data installed force_reinstall logical; download data original source instead reusing older downloads","code":""},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"get_hms_smoke_data(), list numeric vectors smoke plume scores (length x dates) install_hms_smoke_data(), character string path installed RDS file","code":""},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"Daily HMS shapefiles missing 7 days within 2017-2023 (\"2017-04-27\", \"2017-05-31\", \"2017-06-01\", \"2017-06-01\" \"2017-06-22\", \"2017-11-12\", \"2018-12-31\") return zero values. files available smoke plumes intersect, zero values also returned.","code":""},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"https://www.ospo.noaa.gov/Products/land/hms.html#","code":""},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"","code":"d <- list(   \"8841b39a7c46e25f\" = as.Date(c(\"2023-05-18\", \"2017-11-06\")),   \"8841a45555555555\" = as.Date(c(\"2017-06-22\", \"2023-08-15\", \"2024-12-30\")) ) get_hms_smoke_data(x = s2::as_s2_cell(names(d)), dates = d) #> [[1]] #> [1] 9 0 #>  #> [[2]] #> [1] 0 2 0 #>"},{"path":"http://geomarker.io/appc/reference/get_merra_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get MERRA-2 aerosol diagnostics data — get_merra_data","title":"Get MERRA-2 aerosol diagnostics data — get_merra_data","text":"Total component (Dust, OC, BC, SS, SO4) surface PM2.5 concentrations MERRA-2 M2T1NXAER v5.12.4 product. installing MERRA-2 data takes long time, \"pre-compiled\" data binaries year available pre-releases specific MERRA data GitHub.","code":""},{"path":"http://geomarker.io/appc/reference/get_merra_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get MERRA-2 aerosol diagnostics data — get_merra_data","text":"","code":"get_merra_data(x, dates, merra_release = \"merra-2025-12-29\")  install_merra_data(   merra_year = as.character(2017:2025),   merra_release = \"merra-2025-12-29\" )  create_daily_merra_data(merra_date)"},{"path":"http://geomarker.io/appc/reference/get_merra_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get MERRA-2 aerosol diagnostics data — get_merra_data","text":"x vector s2 cell identifers (s2_cell object) dates list date vectors MERRA data, must length x merra_release character string release tag \"pre-compiled\" MERRA data binary used instead installing latest data source; see details merra_year character string year merra data merra_date date object date merra data","code":""},{"path":"http://geomarker.io/appc/reference/get_merra_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get MERRA-2 aerosol diagnostics data — get_merra_data","text":"get_merra_data(), list tibbles length x, containing merra data columns (merra_dust, merra_oc, merra_bc, merra_ss, merra_so4, merra_pm25) one row per date dates install_merra_data(), character string path merra data create_daily_merra_data(), tibble columns s2, date, concentrations PM2.5 total, dust, oc, bc, ss, so4","code":""},{"path":"http://geomarker.io/appc/reference/get_merra_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get MERRA-2 aerosol diagnostics data — get_merra_data","text":"Installed data filtered bounding box around contiguous US, averaged daily values, converted micrograms per cubic meter ($ug/m^3$). Total surface PM2.5 mass calculated according formula https://gmao.gsfc.nasa.gov/reanalysis/MERRA-2/FAQ/#Q4 Set options(\"appc_install_data_from_source\"), environment variable APPC_INSTALL_DATA_FROM_SOURCE non-empty value install MERRA-2 directly sources instead using released GitHub data binary. Earthdata account linked permissions GES DISC required. EARTHDATA_USER EARTHDATA_PASSWORD must set. .env file present, environment variables loaded using dotenv package. hood, appc creates secure netrc file earthdata.nasa.gov using provided credentials uses httr2 package download eathdata files curl","code":""},{"path":"http://geomarker.io/appc/reference/get_merra_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get MERRA-2 aerosol diagnostics data — get_merra_data","text":"","code":"d <- list(   \"8841b39a7c46e25f\" = as.Date(c(\"2023-05-18\", \"2023-11-06\")),   \"8841a45555555555\" = as.Date(c(\"2023-06-22\", \"2025-10-31\")) ) get_merra_data(x = s2::as_s2_cell(names(d)), dates = d) #> $`8841b39a7c46e25f` #> # A tibble: 2 × 6 #>   merra_dust merra_oc merra_bc merra_ss merra_so4 merra_pm25 #>        <dbl>    <dbl>    <dbl>    <dbl>     <dbl>      <dbl> #> 1      1.77      6.84    0.532    0.994      2.43      13.5  #> 2      0.842     2.65    0.392    0.244      2.21       7.17 #>  #> $`8841a45555555555` #> # A tibble: 2 × 6 #>   merra_dust merra_oc merra_bc merra_ss merra_so4 merra_pm25 #>        <dbl>    <dbl>    <dbl>    <dbl>     <dbl>      <dbl> #> 1      1.34      2.52    0.327    0.356      3.71       9.64 #> 2      0.455     1.87    0.573    0.679      1.47       5.59 #>"},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"Get daily North American Regional Reanalysis (NARR) weather data Installs NARR raster data user's data directory appc package","code":""},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"","code":"get_narr_data(   x,   dates,   narr_var = c(\"air.2m\", \"hpbl\", \"acpcp\", \"rhum.2m\", \"vis\", \"pres.sfc\", \"uwnd.10m\",     \"vwnd.10m\") )  install_narr_data(   narr_var = c(\"air.2m\", \"hpbl\", \"acpcp\", \"rhum.2m\", \"vis\", \"pres.sfc\", \"uwnd.10m\",     \"vwnd.10m\"),   narr_year = as.character(2016:2025),   force_reinstall = FALSE )"},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"x vector s2 cell identifers (s2_cell object) dates list date vectors NARR data, must length x narr_var character string name NARR variable narr_year character string year NARR data force_reinstall logical; download data original source instead reusing older downloads","code":""},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"get_narr_data(), list numeric vectors NARR values (length x dates) install_narr_data(), character string path NARR raster data","code":""},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"NARR data comes 0.3 degrees gridded data, 32 sq km resolution. s2 geohashes intersected 0.3 degree grid matching daily weather values.","code":""},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"https://psl.noaa.gov/data/gridded/data.narr.html https://www.ncei.noaa.gov/products/weather-climate-models/north-american-regional","code":""},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"","code":"d <- list(   \"8841b39a7c46e25f\" = as.Date(c(\"2023-05-18\", \"2023-11-06\")),   \"8841a45555555555\" = as.Date(c(\"2023-06-22\", \"2023-08-15\")) ) get_narr_data(x = s2::as_s2_cell(names(d)), dates = d, narr_var = \"air.2m\") #> $`8841b39a7c46e25f` #> [1] 286.4203 283.4198 #>  #> $`8841a45555555555` #> [1] 291.6172 297.2624 #>"},{"path":"http://geomarker.io/appc/reference/get_nei_point_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Get NEI point summary data — get_nei_point_summary","title":"Get NEI point summary data — get_nei_point_summary","text":"National Emissions Inventory (NEI) data summarized sum point emissions within buffer distance s2 geohash weighted inverse distance squared emission point.","code":""},{"path":"http://geomarker.io/appc/reference/get_nei_point_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get NEI point summary data — get_nei_point_summary","text":"","code":"get_nei_point_summary(   x,   year = c(\"2020\", \"2017\"),   pollutant_code = c(\"PM25-PRI\", \"EC\", \"OC\", \"SO4\", \"NO3\", \"PMFINE\"),   buffer = 1000 )  install_nei_point_data(year = c(\"2020\", \"2017\"))"},{"path":"http://geomarker.io/appc/reference/get_nei_point_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get NEI point summary data — get_nei_point_summary","text":"x vector s2 cell identifers (s2_cell object) year character string year NEI data pollutant_code NEI pollutant summarize buffer distance s2 cell (meters) summarize data","code":""},{"path":"http://geomarker.io/appc/reference/get_nei_point_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get NEI point summary data — get_nei_point_summary","text":"get_nei_point_summary(), numeric vector (length x) get_nei_point_data(), character string path NEI point data RDS file","code":""},{"path":"http://geomarker.io/appc/reference/get_nei_point_summary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get NEI point summary data — get_nei_point_summary","text":"full NEI conducted every three years, latest release 2020. NEI file downloaded, unzipped, filtered observations pollutant code EC, OC, SO4, NO3, PMFINE, PM25-PRI. Latitude longitude encoded s2 vector, column names cleaned, rows missing values (including total emissions emissions units) excluded.","code":""},{"path":"http://geomarker.io/appc/reference/get_nei_point_summary.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get NEI point summary data — get_nei_point_summary","text":"https://www.epa.gov/air-emissions-inventories/national-emissions-inventory-nei https://www.epa.gov/air-emissions-inventories/2020-national-emissions-inventory-nei-technical-support-document-tsd","code":""},{"path":"http://geomarker.io/appc/reference/get_nei_point_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get NEI point summary data — get_nei_point_summary","text":"","code":"get_nei_point_summary(s2::as_s2_cell(c(\"8841b399ced97c47\", \"8841b38578834123\"))) #> 8841b399ced97c47 8841b38578834123  #>     6.302855e-05     1.770889e-05"},{"path":"http://geomarker.io/appc/reference/get_nlcd_frac_imperv.html","id":null,"dir":"Reference","previous_headings":"","what":"Get NLCD Fractional Impervious Surface — get_nlcd_frac_imperv","title":"Get NLCD Fractional Impervious Surface — get_nlcd_frac_imperv","text":"NLCD data v1 Annual NLCD","code":""},{"path":"http://geomarker.io/appc/reference/get_nlcd_frac_imperv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get NLCD Fractional Impervious Surface — get_nlcd_frac_imperv","text":"","code":"get_nlcd_frac_imperv(x, dates, fun = stats::median, buffer = 400)  install_nlcd_frac_imperv_data(nlcd_year = as.character(2025:2017))"},{"path":"http://geomarker.io/appc/reference/get_nlcd_frac_imperv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get NLCD Fractional Impervious Surface — get_nlcd_frac_imperv","text":"x vector s2 cell identifers (s2_cell object) dates list date vectors NLCD data, must length x fun function summarize extracted data buffer distance s2 cell (meters) summarize data nlcd_year character string year NLCD data","code":""},{"path":"http://geomarker.io/appc/reference/get_nlcd_frac_imperv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get NLCD Fractional Impervious Surface — get_nlcd_frac_imperv","text":"get_nlcd_frac_imperv(), list numeric vectors fractional impervious surface pixel summaries, length x; vector values date dates, named according NLCD product year install_nlcd_frac_imperv_data(), character string path NLCD raster data","code":""},{"path":"http://geomarker.io/appc/reference/get_nlcd_frac_imperv.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get NLCD Fractional Impervious Surface — get_nlcd_frac_imperv","text":"https://www.usgs.gov/centers/eros/science/annual-nlcd-fractional-impervious-surface","code":""},{"path":"http://geomarker.io/appc/reference/get_nlcd_frac_imperv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get NLCD Fractional Impervious Surface — get_nlcd_frac_imperv","text":"","code":"d <- list(   \"8841b39a7c46e25f\" = as.Date(c(\"2023-05-18\", \"2023-11-06\")),   \"8841a45555555555\" = as.Date(c(\"2023-06-22\", \"2023-08-15\")) ) get_nlcd_frac_imperv(x = s2::as_s2_cell(names(d)), dates = d) #> $`8841b39a7c46e25f` #> 2023 2023  #>   70   70  #>  #> $`8841a45555555555` #> 2023 2023  #>    8    8  #>  get_nlcd_frac_imperv(x = s2::as_s2_cell(names(d)), dates = d, fun = mean, buffer = 1000) #> $`8841b39a7c46e25f` #>     2023     2023  #> 57.57054 57.57054  #>  #> $`8841a45555555555` #>     2023     2023  #> 28.82856 28.82856  #>"},{"path":"http://geomarker.io/appc/reference/get_traffic_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Get traffic summary — get_traffic_summary","title":"Get traffic summary — get_traffic_summary","text":"Highway Performance Monitoring System (HPMS) data 2020 summarized average daily total number meters driven passenger vehicles, trucks/busses, tractor-trailers interstates, freeways, expressways within buffer meters s2 cell","code":""},{"path":"http://geomarker.io/appc/reference/get_traffic_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get traffic summary — get_traffic_summary","text":"","code":"get_traffic_summary(x, buffer = 400)  install_traffic(traffic_release = \"hpms_2020_f12_aadt-2025-07-16\")"},{"path":"http://geomarker.io/appc/reference/get_traffic_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get traffic summary — get_traffic_summary","text":"x vector s2 cell identifers (s2_cell object) buffer distance s2 cell (meters) summarize data traffic_release name github release download traffic data file ","code":""},{"path":"http://geomarker.io/appc/reference/get_traffic_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get traffic summary — get_traffic_summary","text":"list length x, element numeric vector aadtm_passenger, aadtm_trucks_buses, aadtm_tractor_trailer","code":""},{"path":"http://geomarker.io/appc/reference/get_traffic_summary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get traffic summary — get_traffic_summary","text":"roads F_SYSTEM classification 1 (\"interstate\") 2 (\"principal arterial - freeways expressways\") used. Passenger vehicles (FHWA 1-3) calculated total minus FHWA class 4-7 (single unit) 8-13 (combo)","code":""},{"path":"http://geomarker.io/appc/reference/get_traffic_summary.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get traffic summary — get_traffic_summary","text":"https://www.fhwa.dot.gov/policyinformation/hpms.cfm https://data-usdot.opendata.arcgis.com/datasets/usdot::highway-performance-monitoring-system-hpms-2020/","code":""},{"path":"http://geomarker.io/appc/reference/get_traffic_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get traffic summary — get_traffic_summary","text":"","code":"get_traffic_summary(   s2::as_s2_cell(c(\"8841b6abd8207619\", \"8841b4f6affffffb\", \"8841b39f07f7d899\"))) #> ℹ reading traffic data... #> ✔ reading traffic data... [19.6s] #>  #> ℹ finding nearby roadways #> finding nearby roadways for 1 of 3 unique locations ETA:  4s #> ℹ finding nearby roadways #> ✔ finding nearby roadways [4.2s] #>  #> ℹ calculating length-based traffic-length totals #> ✔ calculating length-based traffic-length totals [27ms] #>  #> $`8841b6abd8207619` #>    aadtm_trucks_buses aadtm_tractor_trailer       aadtm_passenger  #>              10455077              18769359             230570823  #>  #> $`8841b4f6affffffb` #>    aadtm_trucks_buses aadtm_tractor_trailer       aadtm_passenger  #>               9693259               4764295             149804919  #>  #> $`8841b39f07f7d899` #>    aadtm_trucks_buses aadtm_tractor_trailer       aadtm_passenger  #>                     0                     0                     0  #>  if (FALSE) { # randomly sample 100 level 18 cells from s2 level-9: 8841b4 # https://igorgatis.github.io/ws2/?cells=8841b4 # use their centroids as the level 30 s2 cells set.seed(1) my_s2_cells <-   s2::s2_covering_cell_ids(s2::s2_cell_polygon(s2::as_s2_cell(\"8841b4\")),                            min_level = 18, max_level = 18) |>   unlist()|>   sample(size = 100)|>   s2::s2_cell_center()|>   s2::as_s2_cell() get_traffic_summary(my_s2_cells) |>   dplyr::bind_rows() }"},{"path":"http://geomarker.io/appc/reference/install_aqs.html","id":null,"dir":"Reference","previous_headings":"","what":"Install daily PM2.5 averages — install_aqs","title":"Install daily PM2.5 averages — install_aqs","text":"Daily data state downloaded AQS API filtered/harmonized described details. Data EPA AQS API updated frequently compared pre-generated daily average files used get_daily_aqs().","code":""},{"path":"http://geomarker.io/appc/reference/install_aqs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install daily PM2.5 averages — install_aqs","text":"","code":"install_aqs(year = as.character(2025:2017), force_reinstall = FALSE)"},{"path":"http://geomarker.io/appc/reference/install_aqs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install daily PM2.5 averages — install_aqs","text":"year character; calendar year data install force_reinstall logical; download data original source instead reusing older downloads","code":""},{"path":"http://geomarker.io/appc/reference/install_aqs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Install daily PM2.5 averages — install_aqs","text":"character string path AQS data RDS file","code":""},{"path":"http://geomarker.io/appc/reference/install_aqs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Install daily PM2.5 averages — install_aqs","text":"Installing AQS data via API requires key associated email address. Signup url putting email address; e.g., https://aqs.epa.gov/data/api/signup?email=.email.address@emails.com look email key. Save credentials environment variables (.env file): AQS_DATA_MART_API_EMAIL AQS_DATA_MART_API_KEY PM2.5 (FRM, non-FRM, speciation), data filtered observations sample duration \"24 HOURS\". pollutants measurements removed observation percent sampling period less 75 indicated invalid. pollutant measured one device day s2 location, average measurement returned, ensuring unique measurements pollutant-location-day","code":""},{"path":"http://geomarker.io/appc/reference/install_aqs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install daily PM2.5 averages — install_aqs","text":"","code":"# on 2025-07-22, 2025 data goes until the end of March 2025 if (FALSE) { install_aqs(\"2025\") |>   readRDS() }"},{"path":"http://geomarker.io/appc/reference/latlon_to_s2_cell.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert latitude/longitude vectors into S2 cells — latlon_to_s2_cell","title":"Convert latitude/longitude vectors into S2 cells — latlon_to_s2_cell","text":"Convert latitude/longitude vectors S2 cells","code":""},{"path":"http://geomarker.io/appc/reference/latlon_to_s2_cell.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert latitude/longitude vectors into S2 cells — latlon_to_s2_cell","text":"","code":"latlon_to_s2_cell(lat, lon)"},{"path":"http://geomarker.io/appc/reference/latlon_to_s2_cell.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert latitude/longitude vectors into S2 cells — latlon_to_s2_cell","text":"lat Numeric vector latitudes (decimal degrees) lon Numeric vector longitudes (decimal degrees)","code":""},{"path":"http://geomarker.io/appc/reference/latlon_to_s2_cell.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert latitude/longitude vectors into S2 cells — latlon_to_s2_cell","text":"object class s2_cell","code":""},{"path":"http://geomarker.io/appc/reference/latlon_to_s2_cell.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert latitude/longitude vectors into S2 cells — latlon_to_s2_cell","text":"","code":"latlon_to_s2_cell(   lat = c(45.0, 46.1),   lon = c(-64.2, -65.3) ) #> <s2_cell[2]> #> [1] 4b59a92b6f051e97 4ca0d6ffa227170d"},{"path":"http://geomarker.io/appc/reference/predict_pm25.html","id":null,"dir":"Reference","previous_headings":"","what":"Get daily PM2.5 model predictions — predict_pm25","title":"Get daily PM2.5 model predictions — predict_pm25","text":"Get daily PM2.5 model predictions","code":""},{"path":"http://geomarker.io/appc/reference/predict_pm25.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get daily PM2.5 model predictions — predict_pm25","text":"","code":"predict_pm25(x, dates, keep_predictors = FALSE)"},{"path":"http://geomarker.io/appc/reference/predict_pm25.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get daily PM2.5 model predictions — predict_pm25","text":"x vector s2 cell identifers (s2_cell object) dates list date vectors predictions, must length x keep_predictors logical; return values model predictors alongside PM2.5 estimates?","code":""},{"path":"http://geomarker.io/appc/reference/predict_pm25.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get daily PM2.5 model predictions — predict_pm25","text":"list tibbles length x, containing columns predicted (pm25) standard error (pm25_se); one row per date dates. numerics concentrations fine particulate matter, measured micrograms per cubic meter. See vignette(\"cv-model-performance\") details cross validated accuracy daily PM2.5 model predictions.","code":""},{"path":"http://geomarker.io/appc/reference/predict_pm25.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get daily PM2.5 model predictions — predict_pm25","text":"Internally, loading model file cached, repeated calls R session require overhead loading model file new prediction.","code":""},{"path":"http://geomarker.io/appc/reference/predict_pm25.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get daily PM2.5 model predictions — predict_pm25","text":"","code":"d <- list(   \"8841b39a7c46e25f\" = as.Date(c(\"2023-05-18\", \"2023-11-06\")),   \"8841a45555555555\" = as.Date(c(\"2023-06-22\", \"2023-08-15\")) )  predict_pm25(x = s2::as_s2_cell(names(d)), dates = d) #> ℹ (down)loading random forest model #> loaded rf_pm_v1 in 14s #> ✔ (down)loading random forest model [15.4s] #>  #> ℹ checking that s2 are within the contiguous US #> ✔ checking that s2 are within the contiguous US [56ms] #>  #> ℹ adding coordinates #> ✔ adding coordinates [14ms] #>  #> ℹ adding elevation #> ✔ adding elevation [79ms] #>  #> ℹ adding HMS smoke data #> ✔ adding HMS smoke data [1s] #>  #> ℹ adding NARR #> ✔ adding NARR [478ms] #>  #> ℹ adding gridMET #> ✔ adding gridMET [419ms] #>  #> ℹ adding MERRA #> ✔ adding MERRA [5s] #>  #> ℹ adding time components #> ✔ adding time components [10ms] #>  #> [[1]] #> # A tibble: 2 × 2 #>    pm25 pm25_se #>   <dbl>   <dbl> #> 1  7.94   0.868 #> 2  9.02   1.31  #>  #> [[2]] #> # A tibble: 2 × 2 #>    pm25 pm25_se #>   <dbl>   <dbl> #> 1  4.84   0.467 #> 2  6.02   0.469 #>   # takes less time after called once because model file is cached in memory  d <- list(   \"8841b39a7c46e25f\" = as.Date(c(\"2023-05-13\", \"2023-11-16\")),   \"8841a45555555555\" = as.Date(c(\"2023-06-21\", \"2023-08-25\")) ) predict_pm25(x = s2::as_s2_cell(names(d)), dates = d) #> ℹ (down)loading random forest model #> loaded rf_pm_v1 in 0s #> ✔ (down)loading random forest model [8ms] #>  #> ℹ checking that s2 are within the contiguous US #> ✔ checking that s2 are within the contiguous US [60ms] #>  #> ℹ adding coordinates #> ✔ adding coordinates [23ms] #>  #> ℹ adding elevation #> ✔ adding elevation [104ms] #>  #> ℹ adding HMS smoke data #> ✔ adding HMS smoke data [1s] #>  #> ℹ adding NARR #> ✔ adding NARR [494ms] #>  #> ℹ adding gridMET #> ✔ adding gridMET [432ms] #>  #> ℹ adding MERRA #> ✔ adding MERRA [565ms] #>  #> ℹ adding time components #> ✔ adding time components [12ms] #>  #> [[1]] #> # A tibble: 2 × 2 #>    pm25 pm25_se #>   <dbl>   <dbl> #> 1  8.59   0.618 #> 2 14.9    2.87  #>  #> [[2]] #> # A tibble: 2 × 2 #>    pm25 pm25_se #>   <dbl>   <dbl> #> 1  11.1    1.07 #> 2  16.8    1.20 #>"},{"path":"http://geomarker.io/appc/reference/predict_pm25_date_range.html","id":null,"dir":"Reference","previous_headings":"","what":"Get daily PM2.5 model predictions using date ranges — predict_pm25_date_range","title":"Get daily PM2.5 model predictions using date ranges — predict_pm25_date_range","text":"Get daily PM2.5 model predictions using date ranges","code":""},{"path":"http://geomarker.io/appc/reference/predict_pm25_date_range.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get daily PM2.5 model predictions using date ranges — predict_pm25_date_range","text":"","code":"predict_pm25_date_range(x, start_date, end_date, average = FALSE)"},{"path":"http://geomarker.io/appc/reference/predict_pm25_date_range.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get daily PM2.5 model predictions using date ranges — predict_pm25_date_range","text":"x vector s2 cell identifers (s2_cell object) start_date date vector start dates s2 cell, must length x end_date date vector end dates s2 cell, must length x average logical; summarize daily exposures estimates standard errors?","code":""},{"path":"http://geomarker.io/appc/reference/predict_pm25_date_range.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get daily PM2.5 model predictions using date ranges — predict_pm25_date_range","text":"standard error averages daily pm25 exposures known standard errors calculated, assuming independent, square root sum squared individual standard errors divided total number individual daily pm25 exposures.","code":""},{"path":"http://geomarker.io/appc/reference/predict_pm25_date_range.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get daily PM2.5 model predictions using date ranges — predict_pm25_date_range","text":"","code":"predict_pm25_date_range(   x = c(\"8841b39a7c46e25f\", \"8841a45555555555\"),   start_date = as.Date(c(\"2023-05-18\", \"2023-01-06\")),   end_date = as.Date(c(\"2023-06-22\", \"2023-08-15\")),   average = TRUE ) #> ℹ (down)loading random forest model #> loaded rf_pm_v1 in 0s #> ✔ (down)loading random forest model [5ms] #>  #> ℹ checking that s2 are within the contiguous US #> ✔ checking that s2 are within the contiguous US [51ms] #>  #> ℹ adding coordinates #> ✔ adding coordinates [16ms] #>  #> ℹ adding elevation #> ✔ adding elevation [82ms] #>  #> ℹ adding HMS smoke data #> ✔ adding HMS smoke data [2s] #>  #> ℹ adding NARR #> ✔ adding NARR [511ms] #>  #> ℹ adding gridMET #> ✔ adding gridMET [443ms] #>  #> ℹ adding MERRA #> ✔ adding MERRA [593ms] #>  #> ℹ adding time components #> ✔ adding time components [13ms] #>  #> [[1]] #> # A tibble: 1 × 2 #>    pm25 pm25_se #>   <dbl>   <dbl> #> 1  13.7   0.524 #>  #> [[2]] #> # A tibble: 1 × 2 #>    pm25 pm25_se #>   <dbl>   <dbl> #> 1  9.62   0.124 #>"}]
