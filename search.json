[{"path":[]},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement cole@colebrokamp.com. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"http://geomarker.io/appc/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired [Mozilla’s code conduct enforcement ladder][https://github.com/mozilla/inclusion]. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"http://geomarker.io/appc/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 appc authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://geomarker.io/appc/articles/cv-model-performance.html","id":"training-data","dir":"Articles","previous_headings":"","what":"Training data","title":"CV Model Performance","text":"464,208 daily PM\\(_{2.5}\\) measurements 2,464 different days across 760 unique stations 2017-01-01 2023-09-30. Measured PM\\(_{2.5}\\) concentration (\\(\\mu g/ m^3\\)) quantiles :","code":""},{"path":"http://geomarker.io/appc/articles/cv-model-performance.html","id":"random-forest","dir":"Articles","previous_headings":"","what":"Random Forest","title":"CV Model Performance","text":"generalized regression forest 200 trees trained using sample fraction 0.5, minimum node size 5, \\(m_{try}\\) value 20.","code":""},{"path":"http://geomarker.io/appc/articles/cv-model-performance.html","id":"variable-importance","dir":"Articles","previous_headings":"","what":"Variable Importance","title":"CV Model Performance","text":"variable importance calculated exponentially-weighted sum many times feature selected within first 6 splits tree forest.","code":""},{"path":"http://geomarker.io/appc/articles/cv-model-performance.html","id":"lolo-model-accuracy","dir":"Articles","previous_headings":"","what":"LOLO Model Accuracy","title":"CV Model Performance","text":"Leave-one-location-(LOLO) accuracy calculated using bag predictions trained random forest resample clustering location. Accuracy characterized using median absolute error (mae) Spearman’s correlation coefficient (rho). Accuracy metrics calculated left location summarized using median accuracy statistic across locations. closely captures performance real-world scenario trying predict air pollution 2017 2023 place measured. left-location, AQS monitor, contains variable number days air pollution measurements. depends frequency daily measurements well monitoring station initiated deprecated. stations-time groupings single measurement; exclude station station-time grouping 4 less observations. tables , median_n represents median number observations used station grouping calculate overall median accuracy metrics. ci_coverage percentage time 95% CI interval predicted concentration contained measured concentration.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"http://geomarker.io/appc/articles/cv-model-performance.html","id":"monthly","dir":"Articles","previous_headings":"LOLO Model Accuracy","what":"Monthly","title":"CV Model Performance","text":"Exclude stations 4 less total monthly observations.","code":""},{"path":"http://geomarker.io/appc/articles/cv-model-performance.html","id":"annual","dir":"Articles","previous_headings":"LOLO Model Accuracy","what":"Annual","title":"CV Model Performance","text":"Exclude stations 4 less total annual observations.","code":""},{"path":"http://geomarker.io/appc/articles/cv-model-performance.html","id":"median-lolo-accuracy-per-spatial-aggregation-period","dir":"Articles","previous_headings":"LOLO Model Accuracy","what":"Median LOLO Accuracy Per Spatial Aggregation Period","title":"CV Model Performance","text":"Station-specific estimates crossvalidated MAE Rho spatially aggregated level 5 s2 cells summarized. visualized result rough approximation model performance may differ different parts country:","code":""},{"path":"http://geomarker.io/appc/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Cole Brokamp. Author, maintainer. Erika Manning. Author. Qing Duan. Author.","code":""},{"path":"http://geomarker.io/appc/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Brokamp C, Manning E, Duan Q (2024). appc: Air Pollution Predictor Commons. R package version 0.2.0, http://geomarker.io/appc/, https://github.com/geomarker-io/appc.","code":"@Manual{,   title = {appc: Air Pollution Predictor Commons},   author = {Cole Brokamp and Erika Manning and Qing Duan},   year = {2024},   note = {R package version 0.2.0, http://geomarker.io/appc/},   url = {https://github.com/geomarker-io/appc}, }"},{"path":[]},{"path":"http://geomarker.io/appc/index.html","id":"about","dir":"","previous_headings":"","what":"About","title":"Air Pollution Predictor Commons","text":"goal appc package provide daily, high resolution, near real-time, model-based ambient air pollution exposure assessments. achieved training generalized random forest several geomarkers predict daily average EPA AQS concentrations 2017 present exact locations across contiguous United States (see vignette(\"cv-model-performance\") details). appc package contains functions generating geomarker predictors ambient air pollution concentrations. Predictor geomarkers include weather atmospheric information, wildfire smoke plumes, elevation, satellite-based aerosol diagnostics products. Source files included package train evaluate models can updated release use recent AQS measurements /geomarker predictors.","code":""},{"path":"http://geomarker.io/appc/index.html","id":"installing","dir":"","previous_headings":"","what":"Installing","title":"Air Pollution Predictor Commons","text":"Install development version appc GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"geomarker-io/appc\")"},{"path":"http://geomarker.io/appc/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Air Pollution Predictor Commons","text":"R, create model-based predictions ambient air pollution concentrations exact locations specific dates using predict_pm25() function: Installed geomarker data sources grf model hosted release assets GitHub downloaded locally package-specific R user data directory (.e., tools::R_user_dir(\"appc\", \"data\")). files cached across R user’s sessions projects. (Specify alternative download location setting R_USER_DATA_DIR environment variable; see ?tools::R_user_dir.) See examples vignette(\"timeline-example\").","code":"appc::predict_pm25(   x = s2::as_s2_cell(c(\"8841b39a7c46e25f\", \"8841a45555555555\")),   dates = list(as.Date(c(\"2023-05-18\", \"2023-11-06\")), as.Date(c(\"2023-06-22\", \"2023-08-15\"))) ) #> ℹ (down)loading random forest model #> ✔ (down)loading random forest model [8.2s] #>  #> ℹ checking that s2 locations are within the contiguous united states #> ✔ checking that s2 locations are within the contiguous united states [55ms] #>  #> ℹ adding coordinates #> ✔ adding coordinates [1.3s] #>  #> ℹ adding elevation #> ✔ adding elevation [1.3s] #>  #> ℹ adding HMS smoke data #> ✔ adding HMS smoke data [967ms] #>  #> ℹ adding NARR #> ✔ adding NARR [3.1s] #>  #> ℹ adding MERRA #> ✔ adding MERRA [569ms] #>  #> ℹ adding time components #> ✔ adding time components [24ms] #>  #> [[1]] #> # A tibble: 2 × 2 #>    pm25 pm25_se #>   <dbl>   <dbl> #> 1  7.95   0.917 #> 2  9.32   0.814 #>  #> [[2]] #> # A tibble: 2 × 2 #>    pm25 pm25_se #>   <dbl>   <dbl> #> 1  5.82   0.685 #> 2  7.68   0.765"},{"path":"http://geomarker.io/appc/index.html","id":"s2-geohash","dir":"","previous_headings":"","what":"S2 geohash","title":"Air Pollution Predictor Commons","text":"s2 geohash hierarchical geospatial index uses spherical geometry. appc package uses s2 cells via s2 package specify geospatial locations. R, s2 cells can created using character string representation, specifying latitude longitude coordinates; e.g.:","code":"s2::s2_lnglat(c(-84.4126, -84.5036), c(39.1582, 39.2875)) |> s2::as_s2_cell() #> <s2_cell[2]> #> [1] 8841ad122d9774a7 88404ebdac3ea7d1"},{"path":"http://geomarker.io/appc/index.html","id":"geomarker-assessment","dir":"","previous_headings":"","what":"Geomarker Assessment","title":"Air Pollution Predictor Commons","text":"Spatiotemporal geomarkers used predicting air pollution concentrations, also serve exposures confounding exposures . View information options geomarker: Currently, get_urban_imperviousness(), get_traffic(), get_nei_point_summary() stashed /inst folder integrated package.","code":""},{"path":"http://geomarker.io/appc/index.html","id":"developing","dir":"","previous_headings":"","what":"Developing","title":"Air Pollution Predictor Commons","text":"Please note appc project released Contributor Code Conduct. contributing project, agree abide terms. create release geomarker data release assets, well create AQS training data, train, evaluate generalized random forest model, use just execute recipes justfile.","code":"> just --list  Available recipes:     build_site             # build readme and webpage     check                  # CRAN check package     dl_geomarker_data      # download all geomarker ahead of time, if not already cached     docker_test            # run tests without cached release files     docker_tool            # build docker image preloaded with {appc} and data     make_training_data     # make training data for GRF     release_hms_smoke_data # install smoke data from source and upload to github release     release_merra_data     # upload merra data to github release     release_model          # upload grf model and training data to current github release     train_model            # train grf model and render report"},{"path":"http://geomarker.io/appc/reference/appc_clean_data_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"delete all installed data files in the user's data directory for the appc package — appc_clean_data_directory","title":"delete all installed data files in the user's data directory for the appc package — appc_clean_data_directory","text":"delete installed data files user's data directory appc package","code":""},{"path":"http://geomarker.io/appc/reference/appc_clean_data_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"delete all installed data files in the user's data directory for the appc package — appc_clean_data_directory","text":"","code":"appc_clean_data_directory()"},{"path":"http://geomarker.io/appc/reference/assemble_predictors.html","id":null,"dir":"Reference","previous_headings":"","what":"Assemble a tibble of required predictors for the exposure assessment model — assemble_predictors","title":"Assemble a tibble of required predictors for the exposure assessment model — assemble_predictors","text":"Assemble tibble required predictors exposure assessment model","code":""},{"path":"http://geomarker.io/appc/reference/assemble_predictors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assemble a tibble of required predictors for the exposure assessment model — assemble_predictors","text":"","code":"assemble_predictors(x, dates, pollutant = c(\"pm25\"))"},{"path":"http://geomarker.io/appc/reference/assemble_predictors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assemble a tibble of required predictors for the exposure assessment model — assemble_predictors","text":"x vector s2 cell identifers (s2_cell object); currently required within contiguous united states dates list date vectors predictions, must length x pollutant ignored now, reserved future sets predictors specific different pollutants","code":""},{"path":"http://geomarker.io/appc/reference/assemble_predictors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assemble a tibble of required predictors for the exposure assessment model — assemble_predictors","text":"tibble one row unique s2 location - date combination columns predictors required exposure assessment model","code":""},{"path":"http://geomarker.io/appc/reference/assemble_predictors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Assemble a tibble of required predictors for the exposure assessment model — assemble_predictors","text":"","code":"d <- list(   \"8841b39a7c46e25f\" = as.Date(c(\"2023-05-18\", \"2023-11-06\")),   \"8841a45555555555\" = as.Date(c(\"2023-06-22\", \"2023-08-15\")) ) assemble_predictors(x = s2::as_s2_cell(names(d)), dates = d) |>   tibble::glimpse() #> ℹ checking that s2 locations are within the contiguous united states #> ✔ checking that s2 locations are within the contiguous united states [116ms] #>  #> ℹ adding coordinates #> ✔ adding coordinates [672ms] #>  #> ℹ adding elevation #> ✔ adding elevation [4.2s] #>  #> ℹ adding HMS smoke data #> ✔ adding HMS smoke data [2.1s] #>  #> ℹ adding NARR #> downloading 2023 air.2m: #> downloading 2023 hpbl: #> downloading 2023 acpcp: #> downloading 2023 rhum.2m: #> downloading 2023 vis: #> downloading 2023 pres.sfc: #> downloading 2023 uwnd.10m: #> downloading 2023 vwnd.10m: #> ✔ adding NARR [16s] #>  #> ℹ adding MERRA #> ✔ adding MERRA [2.3s] #>  #> ℹ adding time components #> ✔ adding time components [33ms] #>  #> Rows: 4 #> Columns: 23 #> $ s2               <s2cell> 8841b39a7c46e25f, 8841b39a7c46e25f, 8841a455555555… #> $ date             <date> 2023-05-18, 2023-11-06, 2023-06-22, 2023-08-15 #> $ x                <dbl> 981664.4, 981664.4, 993445.3, 993445.3 #> $ y                <dbl> 1850030, 1850030, 1833221, 1833221 #> $ elevation_median <dbl> 239, 239, 229, 229 #> $ elevation_sd     <dbl> 18.88562, 18.88562, 14.62223, 14.62223 #> $ plume_smoke      <dbl> 9, 2, 1, 2 #> $ air.2m           <dbl> 286.4203, 283.4198, 291.6172, 297.2624 #> $ hpbl             <dbl> 654.3253, 536.9161, 775.3117, 1110.5875 #> $ acpcp            <dbl> 0.002148881, 0.000000000, 0.000000000, 2.460937500 #> $ rhum.2m          <dbl> 72.11295, 63.10049, 81.88810, 78.28357 #> $ vis              <dbl> 20013.14, 20006.17, 20016.76, 19812.84 #> $ pres.sfc         <dbl> 98413.07, 98460.16, 98972.92, 98474.33 #> $ uwnd.10m         <dbl> -3.310530901, 0.002454758, -4.644292831, 5.372983932 #> $ vwnd.10m         <dbl> -1.10644674, 2.38253164, -1.65637243, -0.05776715 #> $ merra_dust       <dbl> 1.7716578, 0.8419505, 1.3394157, 1.1787193 #> $ merra_oc         <dbl> 6.839098, 2.653597, 2.519055, 2.797475 #> $ merra_bc         <dbl> 0.5318720, 0.3922745, 0.3267147, 0.4414604 #> $ merra_ss         <dbl> 0.9944661, 0.2441934, 0.3561678, 0.7222975 #> $ merra_so4        <dbl> 2.430319, 2.208039, 3.706336, 5.782006 #> $ merra_pm25       <dbl> 13.480237, 7.169391, 9.639784, 13.093671 #> $ year             <dbl> 2023, 2023, 2023, 2023 #> $ doy              <dbl> 138, 310, 173, 227"},{"path":"http://geomarker.io/appc/reference/get_closest_year.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the closest years to a vector of dates — get_closest_year","title":"Get the closest years to a vector of dates — get_closest_year","text":"time date year calculated using July 1st year.","code":""},{"path":"http://geomarker.io/appc/reference/get_closest_year.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the closest years to a vector of dates — get_closest_year","text":"","code":"get_closest_year(x, years = as.character(1800:2400))"},{"path":"http://geomarker.io/appc/reference/get_closest_year.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the closest years to a vector of dates — get_closest_year","text":"x date vector years vector characters (numerics) representing years choose ","code":""},{"path":"http://geomarker.io/appc/reference/get_closest_year.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the closest years to a vector of dates — get_closest_year","text":"character vector closest year years date x","code":""},{"path":"http://geomarker.io/appc/reference/get_closest_year.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the closest years to a vector of dates — get_closest_year","text":"","code":"get_closest_year(x = as.Date(c(\"2021-05-15\", \"2022-09-01\")), years = c(\"2020\", \"2022\")) #> [1] \"2020\" \"2022\""},{"path":"http://geomarker.io/appc/reference/get_daily_aqs.html","id":null,"dir":"Reference","previous_headings":"","what":"Get daily AQS concentrations — get_daily_aqs","title":"Get daily AQS concentrations — get_daily_aqs","text":"Pre-generated daily summary files downloaded EPA AQS website filtered/harmonized described Details.","code":""},{"path":"http://geomarker.io/appc/reference/get_daily_aqs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get daily AQS concentrations — get_daily_aqs","text":"","code":"get_daily_aqs(   pollutant = c(\"pm25\", \"ozone\", \"no2\"),   year = as.character(2017:2023) )"},{"path":"http://geomarker.io/appc/reference/get_daily_aqs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get daily AQS concentrations — get_daily_aqs","text":"pollutant one \"pm25\", \"ozone\", \"no2\" year calendar year","code":""},{"path":"http://geomarker.io/appc/reference/get_daily_aqs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get daily AQS concentrations — get_daily_aqs","text":"data.frame/tibble pollutant concentrations site id, lat/lon, date","code":""},{"path":"http://geomarker.io/appc/reference/get_daily_aqs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get daily AQS concentrations — get_daily_aqs","text":"PM2.5 (FRM, non-FRM, speciation), data filtered observations sample duration \"24 HOURS\". pollutants measurements removed observation percent sampling period less 75. pollutant measured one device day s2 location, average measurement returned, ensuring unique measurements pollutant-location-day Note: Historical measurements subject change EPA AQS website stores latest versions.  Since function always downloads latest data EPA AQS, means different results depending date run. Get files page date last updated: readr::read_csv(\"https://aqs.epa.gov/aqsweb/airdata/file_list.csv\")","code":""},{"path":"http://geomarker.io/appc/reference/get_daily_aqs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get daily AQS concentrations — get_daily_aqs","text":"","code":"get_daily_aqs(\"pm25\", \"2023\") #> # A tibble: 33,283 × 4 #>    s2               date       pollutant  conc #>    <s2cell>         <date>     <chr>     <dbl> #>  1 8c1d2a72306b8c27 2023-01-03 pm25        3.4 #>  2 8c1d2a72306b8c27 2023-01-06 pm25        4.7 #>  3 8c1d2a72306b8c27 2023-01-09 pm25        5.3 #>  4 8c1d2a72306b8c27 2023-01-12 pm25        7.9 #>  5 8c1d2a72306b8c27 2023-01-15 pm25        2.7 #>  6 8c1d2a72306b8c27 2023-01-18 pm25        3.8 #>  7 8c1d2a72306b8c27 2023-01-21 pm25        2.4 #>  8 8c1d2a72306b8c27 2023-01-24 pm25        3.8 #>  9 8c1d2a72306b8c27 2023-01-27 pm25        5.8 #> 10 8c1d2a72306b8c27 2023-01-30 pm25        4.8 #> # ℹ 33,273 more rows"},{"path":"http://geomarker.io/appc/reference/get_elevation_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Get elevation summary data — get_elevation_summary","title":"Get elevation summary data — get_elevation_summary","text":"fun (e.g. median() sd()) elevations (captured spatial resolution 800 800 m) within buffer distance s2 geohash.","code":""},{"path":"http://geomarker.io/appc/reference/get_elevation_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get elevation summary data — get_elevation_summary","text":"","code":"get_elevation_summary(x, fun = stats::median, buffer = 800)  install_elevation_data()"},{"path":"http://geomarker.io/appc/reference/get_elevation_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get elevation summary data — get_elevation_summary","text":"x vector s2 cell identifers (s2_cell object) fun function summarize extracted data buffer distance s2 cell (meters) summarize data","code":""},{"path":"http://geomarker.io/appc/reference/get_elevation_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get elevation summary data — get_elevation_summary","text":"get_elevation_summary(), numeric vector elevation summaries, length x install_elevation_data(), character string path elevation raster","code":""},{"path":"http://geomarker.io/appc/reference/get_elevation_summary.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get elevation summary data — get_elevation_summary","text":"https://prism.oregonstate.edu/normals/","code":""},{"path":"http://geomarker.io/appc/reference/get_elevation_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get elevation summary data — get_elevation_summary","text":"","code":"get_elevation_summary(s2::as_s2_cell(c(\"8841b399ced97c47\", \"8841b38578834123\"))) #> [1] 231.0 222.5"},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"HMS operates daily near real-time outlining smoke polygon distinct smoke plume classifying \"light\", \"medium\", \"heavy\". Since multiple plumes varying classification can cover one another, total smoke plume exposure estimated weighted sum plumes, \"light\" = 1, \"medium\" = 2, \"heavy\" = 3. Parallel processing via furrr package can used setting future::plan() evaluation strategy beforehand.","code":""},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"","code":"get_hms_smoke_data(x, dates)  install_hms_smoke_data()"},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"x vector s2 cell identifers (s2_cell object); currently required within contiguous united states dates list date vectors predictions, must length x","code":""},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"get_hms_smoke_data(), list numeric vectors smoke plume scores (length x dates) install_hms_smoke_data(), character string path installed RDS file","code":""},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"Daily HMS shapefiles missing 7 days within 2017-2023 (\"2017-04-27\", \"2017-05-31\", \"2017-06-01\", \"2017-06-01\" \"2017-06-22\", \"2017-11-12\", \"2018-12-31\") return zero values.  files available smoke plumes intersect, zero values also returned.","code":""},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"https://www.ospo.noaa.gov/Products/land/hms.html#","code":""},{"path":"http://geomarker.io/appc/reference/get_hms_smoke_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get smoke plume data from the NOAA's Hazard Mapping System — get_hms_smoke_data","text":"","code":"d <- list(   \"8841b39a7c46e25f\" = as.Date(c(\"2023-05-18\", \"2017-11-06\")),   \"8841a45555555555\" = as.Date(c(\"2017-06-22\", \"2023-08-15\")) ) get_hms_smoke_data(x = s2::as_s2_cell(names(d)), dates = d) #> [[1]] #> [1] 9 0 #>  #> [[2]] #> [1] 0 2 #>"},{"path":"http://geomarker.io/appc/reference/get_merra_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get MERRA-2 aerosol diagnostics data — get_merra_data","title":"Get MERRA-2 aerosol diagnostics data — get_merra_data","text":"Total component (Dust, OC, BC, SS, SO4) surface PM2.5 concentrations MERRA-2 M2T1NXAER v5.12.4 product.","code":""},{"path":"http://geomarker.io/appc/reference/get_merra_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get MERRA-2 aerosol diagnostics data — get_merra_data","text":"","code":"get_merra_data(x, dates)  install_merra_data(merra_year = as.character(2016:2023))  create_daily_merra_data(merra_date)"},{"path":"http://geomarker.io/appc/reference/get_merra_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get MERRA-2 aerosol diagnostics data — get_merra_data","text":"x vector s2 cell identifers (s2_cell object) dates list date vectors MERRA data, must length x merra_year character string year merra data merra_date date object date merra data","code":""},{"path":"http://geomarker.io/appc/reference/get_merra_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get MERRA-2 aerosol diagnostics data — get_merra_data","text":"get_merra_data(), list tibbles length x, containing merra data columns (merra_dust, merra_oc, merra_bc, merra_ss, merra_so4, merra_pm25) one row per date dates install_merra_data(), character string path merra data create_daily_merra_data(), tibble columns s2, date, concentrations PM2.5 total, dust, oc, bc, ss, so4","code":""},{"path":"http://geomarker.io/appc/reference/get_merra_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get MERRA-2 aerosol diagnostics data — get_merra_data","text":"install data source, Earthdata account linked permissions GES DISC required. EARTHDATA_USERNAME EARTHDATA_PASSWORD must set. .env file present, environment variables loaded using dotenv package. Installed data filtered bounding box around contiguous US, averaged daily values, converted micrograms per cubic meter ($ug/m^3$). Total surface PM2.5 mass calculated according formula https://gmao.gsfc.nasa.gov/reanalysis/MERRA-2/FAQ/#Q4 Set proxy used httr calls merra functions httr::set_config(httr::use_proxy( ... )); e.g. httr::set_config(httr::use_proxy(\"http://bmiproxyp.chmcres.cchmc.org\", 80, Sys.getenv(\"CCHMC_USERNAME\"), Sys.getenv(\"CCHMC_PASSWORD\")))","code":""},{"path":"http://geomarker.io/appc/reference/get_merra_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get MERRA-2 aerosol diagnostics data — get_merra_data","text":"","code":"d <- list(   \"8841b39a7c46e25f\" = as.Date(c(\"2023-05-18\", \"2023-11-06\")),   \"8841a45555555555\" = as.Date(c(\"2023-06-22\", \"2023-08-15\")) ) get_merra_data(x = s2::as_s2_cell(names(d)), dates = d) #> $`8841b39a7c46e25f` #> # A tibble: 2 × 6 #>   merra_dust merra_oc merra_bc merra_ss merra_so4 merra_pm25 #>        <dbl>    <dbl>    <dbl>    <dbl>     <dbl>      <dbl> #> 1      1.77      6.84    0.532    0.994      2.43      13.5  #> 2      0.842     2.65    0.392    0.244      2.21       7.17 #>  #> $`8841a45555555555` #> # A tibble: 2 × 6 #>   merra_dust merra_oc merra_bc merra_ss merra_so4 merra_pm25 #>        <dbl>    <dbl>    <dbl>    <dbl>     <dbl>      <dbl> #> 1       1.34     2.52    0.327    0.356      3.71       9.64 #> 2       1.18     2.80    0.441    0.722      5.78      13.1  #>"},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"Get daily North American Regional Reanalysis (NARR) weather data Installs NARR raster data user's data directory appc package","code":""},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"","code":"get_narr_data(   x,   dates,   narr_var = c(\"air.2m\", \"hpbl\", \"acpcp\", \"rhum.2m\", \"vis\", \"pres.sfc\", \"uwnd.10m\",     \"vwnd.10m\") )  install_narr_data(   narr_var = c(\"air.2m\", \"hpbl\", \"acpcp\", \"rhum.2m\", \"vis\", \"pres.sfc\", \"uwnd.10m\",     \"vwnd.10m\"),   narr_year = as.character(2016:2023) )"},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"x vector s2 cell identifers (s2_cell object) dates list date vectors NARR data, must length x narr_var character string name NARR variable narr_year character string year NARR data","code":""},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"get_narr_data(), list numeric vectors NARR values (length x dates) install_narr_data(), character string path NARR raster data","code":""},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"NARR data comes 0.3 degrees gridded data, 32 sq km resolution. s2 geohashes intersected 0.3 degree grid matching daily weather values.","code":""},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"https://psl.noaa.gov/data/gridded/data.narr.html https://www.ncei.noaa.gov/products/weather-climate-models/north-american-regional","code":""},{"path":"http://geomarker.io/appc/reference/get_narr_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get daily North American Regional Reanalysis (NARR) weather data — get_narr_data","text":"","code":"d <- list(   \"8841b39a7c46e25f\" = as.Date(c(\"2023-05-18\", \"2023-11-06\")),   \"8841a45555555555\" = as.Date(c(\"2023-06-22\", \"2023-08-15\")) ) get_narr_data(x = s2::as_s2_cell(names(d)), dates = d, narr_var = \"air.2m\") #> $`8841b39a7c46e25f` #> [1] 286.4203 283.4198 #>  #> $`8841a45555555555` #> [1] 291.6172 297.2624 #>"},{"path":"http://geomarker.io/appc/reference/install_released_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download pre-installed data from GitHub release — install_released_data","title":"Download pre-installed data from GitHub release — install_released_data","text":"install_smoke_pm_data(), install_merra_data(), install_traffic(), install_nei_point_data()download geospatial data directly provider transform subset data smaller files used appcget_*_data()` functions. installation process can take long time, installed geomarker data (default) downloaded corresponding github release.","code":""},{"path":"http://geomarker.io/appc/reference/install_released_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download pre-installed data from GitHub release — install_released_data","text":"","code":"install_released_data(   released_data_name,   package_version = utils::packageVersion(\"appc\") )"},{"path":"http://geomarker.io/appc/reference/install_released_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download pre-installed data from GitHub release — install_released_data","text":"functions utilized automatically geomarker assessment functions, can called without input data install geomarker data ahead time, external internet access possible input data added. Note install functions require system installation gdal. turn default usage downloading pre-generated data instead install data geomarker data directly sources, set options(\"appc_install_data_from_source\"), environment variable APPC_INSTALL_DATA_FROM_SOURCE non-empty value.","code":""},{"path":"http://geomarker.io/appc/reference/install_source_preference.html","id":null,"dir":"Reference","previous_headings":"","what":"install_source_preference() — install_source_preference","title":"install_source_preference() — install_source_preference","text":"install_source_preference()","code":""},{"path":"http://geomarker.io/appc/reference/install_source_preference.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"install_source_preference() — install_source_preference","text":"","code":"install_source_preference()"},{"path":"http://geomarker.io/appc/reference/predict_pm25.html","id":null,"dir":"Reference","previous_headings":"","what":"Get daily PM2.5 model predictions — predict_pm25","title":"Get daily PM2.5 model predictions — predict_pm25","text":"Get daily PM2.5 model predictions","code":""},{"path":"http://geomarker.io/appc/reference/predict_pm25.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get daily PM2.5 model predictions — predict_pm25","text":"","code":"predict_pm25(x, dates)"},{"path":"http://geomarker.io/appc/reference/predict_pm25.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get daily PM2.5 model predictions — predict_pm25","text":"x vector s2 cell identifers (s2_cell object) dates list date vectors predictions, must length x","code":""},{"path":"http://geomarker.io/appc/reference/predict_pm25.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get daily PM2.5 model predictions — predict_pm25","text":"list tibbles length x, containing columns predicted (pm25) standard error (pm25_se); one row per date dates. numerics concentrations fine particulate matter, measured micrograms per cubic meter. See vignette(\"cv-model-performance\") details cross validated accuracy daily PM2.5 model predictions.","code":""},{"path":"http://geomarker.io/appc/reference/predict_pm25.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get daily PM2.5 model predictions — predict_pm25","text":"","code":"d <- list(   \"8841b39a7c46e25f\" = as.Date(c(\"2023-05-18\", \"2023-11-06\")),   \"8841a45555555555\" = as.Date(c(\"2023-06-22\", \"2023-08-15\")) ) predict_pm25(x = s2::as_s2_cell(names(d)), dates = d) #> ℹ (down)loading random forest model #> ✔ (down)loading random forest model [20.7s] #>  #> ℹ checking that s2 locations are within the contiguous united states #> ✔ checking that s2 locations are within the contiguous united states [95ms] #>  #> ℹ adding coordinates #> ✔ adding coordinates [19ms] #>  #> ℹ adding elevation #> ✔ adding elevation [107ms] #>  #> ℹ adding HMS smoke data #> ✔ adding HMS smoke data [1.1s] #>  #> ℹ adding NARR #> ✔ adding NARR [5.7s] #>  #> ℹ adding MERRA #> ✔ adding MERRA [894ms] #>  #> ℹ adding time components #> ✔ adding time components [23ms] #>  #> [[1]] #> # A tibble: 2 × 2 #>    pm25 pm25_se #>   <dbl>   <dbl> #> 1  7.95   0.917 #> 2  9.32   0.814 #>  #> [[2]] #> # A tibble: 2 × 2 #>    pm25 pm25_se #>   <dbl>   <dbl> #> 1  5.82   0.685 #> 2  7.68   0.765 #>"}]
